<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python para Pensadores | Manejo de Archivos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2A6B84;
            --secondary: #38B6FF;
            --accent: #FF7F3E;
            --light: #F8F9FA;
            --dark: #212529;
            --success: #28A745;
            --warning: #FFC107;
            --gray: #6C757D;
            --light-gray: #E9ECEF;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 90vh;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 25px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -20%;
            width: 300px;
            height: 300px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        header::after {
            content: "";
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 200px;
            height: 200px;
            background-color: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--accent);
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.2));
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 5px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .topic {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 50px;
            display: inline-block;
            font-weight: 600;
            position: relative;
            z-index: 1;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background-color: var(--light);
            border-right: 1px solid var(--light-gray);
            padding: 25px 20px;
            overflow-y: auto;
        }

        .nav-title {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }

        .nav-list {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 10px;
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background-color: white;
            border-radius: 8px;
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            border-left: 4px solid transparent;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .nav-link:hover {
            background-color: var(--secondary);
            color: white;
            transform: translateX(5px);
            border-left-color: var(--accent);
        }

        .nav-link.active {
            background-color: var(--primary);
            color: white;
            border-left-color: var(--accent);
        }

        .nav-icon {
            font-size: 1.2rem;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-gray);
            position: relative;
        }

        h2::after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 2px;
            background-color: var(--accent);
        }

        h3 {
            color: var(--secondary);
            font-size: 1.4rem;
            margin: 25px 0 15px;
        }

        p {
            margin-bottom: 15px;
        }

        .highlight {
            background-color: rgba(56, 182, 255, 0.1);
            padding: 20px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--secondary);
            margin: 20px 0;
        }

        .code-container {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Consolas', monospace;
            box-shadow: var(--shadow);
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #444;
        }

        .code-title {
            color: #ccc;
            font-weight: 600;
        }

        .copy-btn {
            background-color: #444;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .copy-btn:hover {
            background-color: var(--secondary);
        }

        .code {
            line-height: 1.5;
        }

        .keyword {
            color: #569CD6;
        }

        .function {
            color: #DCDCAA;
        }

        .string {
            color: #CE9178;
        }

        .comment {
            color: #6A9955;
        }

        .example {
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--warning);
        }

        .example-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .challenge {
            background-color: rgba(255, 127, 62, 0.1);
            border-radius: var(--border-radius);
            padding: 25px;
            margin: 25px 0;
            border: 2px dashed var(--accent);
        }

        .challenge h3 {
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .challenge-icon {
            font-size: 1.5rem;
        }

        /* Quiz */
        .quiz-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin: 30px 0;
            border-top: 5px solid var(--secondary);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .score {
            background-color: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .question-container {
            margin-bottom: 25px;
        }

        .question {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px 20px;
            background-color: var(--light-gray);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .option:hover {
            background-color: #e2e6ea;
            transform: translateX(5px);
        }

        .option.selected {
            background-color: rgba(56, 182, 255, 0.2);
            border-color: var(--secondary);
        }

        .option.correct {
            background-color: rgba(40, 167, 69, 0.2);
            border-color: var(--success);
        }

        .option.incorrect {
            background-color: rgba(220, 53, 69, 0.1);
            border-color: #DC3545;
        }

        .feedback {
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            display: none;
            font-weight: 600;
        }

        .feedback.correct {
            background-color: rgba(40, 167, 69, 0.2);
            color: var(--success);
            border-left: 4px solid var(--success);
            display: block;
        }

        .feedback.incorrect {
            background-color: rgba(220, 53, 69, 0.1);
            color: #DC3545;
            border-left: 4px solid #DC3545;
            display: block;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: #23546b;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(42, 107, 132, 0.3);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #2a9ce8;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(56, 182, 255, 0.3);
        }

        .btn-accent {
            background-color: var(--accent);
            color: white;
        }

        .btn-accent:hover {
            background-color: #e66c2e;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 127, 62, 0.3);
        }

        .btn:disabled {
            background-color: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--light-gray);
                padding: 20px;
            }
            
            .nav-list {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .nav-item {
                flex: 1;
                min-width: 200px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                min-height: 95vh;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .content-area {
                padding: 20px;
            }
            
            .quiz-container {
                padding: 20px;
            }
            
            .nav-list {
                flex-direction: column;
            }
            
            .nav-item {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <i class="fas fa-code logo-icon"></i>
                <div>
                    <h1>Python para pensadores</h1>
                    <div class="subtitle">Taller diseñado con el corazón de un docente y la mente de un programador</div>
                </div>
            </div>
            <div class="topic">Manejo de Archivos en Python: Tu Diario Digital</div>
        </header>

        <div class="main-content">
            <nav class="sidebar">
                <h3 class="nav-title">Contenido del Taller</h3>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#intro" class="nav-link active" data-section="intro">
                            <i class="fas fa-home nav-icon"></i>
                            <span>Introducción</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#objective" class="nav-link" data-section="objective">
                            <i class="fas fa-bullseye nav-icon"></i>
                            <span>Objetivo</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#context" class="nav-link" data-section="context">
                            <i class="fas fa-globe-americas nav-icon"></i>
                            <span>Contextualización</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#activity" class="nav-link" data-section="activity">
                            <i class="fas fa-laptop-code nav-icon"></i>
                            <span>Actividad Práctica</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#challenge" class="nav-link" data-section="challenge">
                            <i class="fas fa-flag-checkered nav-icon"></i>
                            <span>El Reto Final</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#quiz" class="nav-link" data-section="quiz">
                            <i class="fas fa-gamepad nav-icon"></i>
                            <span>Evaluación Lúdica</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <main class="content-area">
                <!-- Introducción -->
                <section id="intro" class="section active">
                    <h2>Manejo de Archivos en Python</h2>
                    <p>Imagina que cada programa que escribes es una conversación con el mundo digital. Hasta ahora, has aprendido a comunicarte dentro de tu código, pero ¿qué pasa cuando necesitas guardar esa conversación para el futuro, compartirla con otros, o leer lo que otros han escrito?</p>
                    
                    <div class="highlight">
                        <p>Los archivos son la memoria persistente de las computadoras. Son como diarios digitales que conservan nuestras ideas, datos y creaciones más allá de la ejecución de un programa. En este taller, aprenderás a interactuar con estos diarios digitales usando Python.</p>
                    </div>
                    
                    <p>El manejo de archivos es una de las habilidades más importantes en programación, porque conecta el mundo efímero de la memoria RAM con el mundo permanente del almacenamiento. Cada vez que guardas un documento, subes una foto, o consultas una base de datos, estás trabajando con archivos.</p>
                    
                    <h3>¿Por qué es importante aprender esto?</h3>
                    <p>En un mundo donde los datos son el nuevo petróleo, saber cómo manejar archivos te permite:</p>
                    <ul style="margin-left: 20px; margin-bottom: 20px;">
                        <li>Crear programas que conserven información entre ejecuciones</li>
                        <li>Procesar grandes volúmenes de datos almacenados</li>
                        <li>Intercambiar información entre diferentes aplicaciones</li>
                        <li>Desarrollar aplicaciones útiles para la vida real</li>
                    </ul>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-lightbulb"></i>
                            <span>Piensa en esto:</span>
                        </div>
                        <p>¿Cómo crees que WhatsApp guarda tus mensajes? ¿O cómo Spotify recuerda tus canciones favoritas? Todo se reduce al manejo de archivos y bases de datos. Hoy darás el primer paso para entender esta magia digital.</p>
                    </div>
                </section>

                <!-- Objetivo -->
                <section id="objective" class="section">
                    <h2>Objetivo de Aprendizaje</h2>
                    <div class="highlight">
                        <p><strong>Dominar las operaciones fundamentales de manejo de archivos en Python</strong> mediante la exploración práctica de métodos de lectura, escritura y manipulación de archivos de texto y binarios, desarrollando así la capacidad de crear programas que interactúen con el sistema de archivos de manera eficiente, segura y elegante, mientras se cultiva una mentalidad crítica hacia la organización de datos digitales y se fortalece la confianza para enfrentar desafíos de procesamiento de información en contextos reales.</p>
                    </div>
                    
                    <h3>Competencias a desarrollar</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin: 25px 0;">
                        <div style="background-color: rgba(42, 107, 132, 0.08); padding: 20px; border-radius: var(--border-radius); border-top: 4px solid var(--primary);">
                            <h4 style="color: var(--primary); margin-bottom: 10px;"><i class="fas fa-cog"></i> Técnicas</h4>
                            <ul style="margin-left: 20px;">
                                <li>Utilizar funciones y métodos para abrir, leer y escribir archivos</li>
                                <li>Manejar excepciones al trabajar con archivos</li>
                                <li>Procesar diferentes formatos de archivos (texto, binario, CSV)</li>
                            </ul>
                        </div>
                        
                        <div style="background-color: rgba(56, 182, 255, 0.08); padding: 20px; border-radius: var(--border-radius); border-top: 4px solid var(--secondary);">
                            <h4 style="color: var(--secondary); margin-bottom: 10px;"><i class="fas fa-brain"></i> Cognitivas</h4>
                            <ul style="margin-left: 20px;">
                                <li>Analizar la estructura y organización de archivos</li>
                                <li>Evaluar diferentes enfoques para resolver problemas de manejo de datos</li>
                                <li>Diseñar soluciones eficientes para procesamiento de información</li>
                            </ul>
                        </div>
                        
                        <div style="background-color: rgba(255, 127, 62, 0.08); padding: 20px; border-radius: var(--border-radius); border-top: 4px solid var(--accent);">
                            <h4 style="color: var(--accent); margin-bottom: 10px;"><i class="fas fa-heart"></i> Actitudinales</h4>
                            <ul style="margin-left: 20px;">
                                <li>Valorar la importancia de manejar datos con responsabilidad</li>
                                <li>Desarrollar perseverancia ante errores de entrada/salida</li>
                                <li>Cultivar curiosidad por explorar diferentes formatos de datos</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Contextualización -->
                <section id="context" class="section">
                    <h2>Contextualización</h2>
                    <p>Eres el historiador de tu propia vida digital. Cada like, cada mensaje, cada foto que tomas con tu celular son fragmentos de tu historia que se almacenan en archivos. Hoy aprenderás a ser el curador de esos archivos.</p>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-user-circle"></i>
                            <span>Tu historia digital:</span>
                        </div>
                        <p>Imagina que quieres crear un diario personal programático. Cada día, tu programa te preguntará cómo estuvo tu día, guardará tus reflexiones en un archivo, y podrás revisar lo que escribiste hace semanas o meses. Para construir esto, necesitas entender cómo Python interactúa con archivos.</p>
                    </div>
                    
                    <h3>La metáfora del archivador</h3>
                    <p>Piensa en el sistema de archivos como un gran archivador con carpetas (directorios) y documentos (archivos). Python te da las llaves de este archivador, permitiéndote:</p>
                    <ul style="margin-left: 20px; margin-bottom: 20px;">
                        <li><strong>Abrir</strong> los cajones y carpetas (acceder a directorios)</li>
                        <li><strong>Leer</strong> documentos existentes (leer archivos)</li>
                        <li><strong>Escribir</strong> nuevos documentos (crear y modificar archivos)</li>
                        <li><strong>Organizar</strong> tu archivador (manejar rutas y directorios)</li>
                    </ul>
                    
                    <div class="highlight">
                        <p>En Ecuador, donde la transformación digital está redefiniendo todos los sectores, desde la agricultura hasta la educación, entender el manejo de archivos te posiciona como un creador, no solo un consumidor, de tecnología. Podrás automatizar tareas, analizar datos locales, y crear soluciones relevantes para tu comunidad.</p>
                    </div>
                    
                    <h3>Del aula al mundo real</h3>
                    <p>Los conceptos que aprenderás hoy son los mismos que usan:</p>
                    <ul style="margin-left: 20px; margin-bottom: 20px;">
                        <li>Los desarrolladores de aplicaciones móviles para guardar preferencias</li>
                        <li>Los científicos de datos para procesar grandes conjuntos de información</li>
                        <li>Los ingenieros para registrar datos de sensores</li>
                        <li>Los artistas digitales para manejar sus recursos multimedia</li>
                    </ul>
                    
                    <p>Estás a punto de aprender un superpoder digital: la capacidad de hacer que tus programas recuerden.</p>
                </section>

                <!-- Actividad Práctica -->
                <section id="activity" class="section">
                    <h2>Actividad Práctica</h2>
                    <p>A continuación, exploraremos los conceptos fundamentales del manejo de archivos en Python con ejemplos prácticos que puedes probar en tu computadora.</p>
                    
                    <h3>1. Conceptos básicos de archivos</h3>
                    <p>Un archivo es una secuencia de bytes con un nombre, almacenada en un sistema de archivos. Python distingue entre archivos de texto (legibles por humanos) y binarios (código máquina).</p>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Ejemplo: Rutas de archivos</div>
                            <button class="copy-btn" onclick="copyCode(this)">Copiar código</button>
                        </div>
                        <pre class="code"><code><span class="comment"># Rutas absolutas vs relativas</span>
<span class="keyword">import</span> os

<span class="comment"># Ruta absoluta (completa desde la raíz del sistema)</span>
ruta_absoluta = <span class="string">"C:\\Users\\Estudiante\\documentos\\diario.txt"</span>  <span class="comment"># Windows</span>
<span class="comment"># ruta_absoluta = "/home/estudiante/documentos/diario.txt"  # Linux/Mac</span>

<span class="comment"># Ruta relativa (desde la ubicación actual)</span>
ruta_relativa = <span class="string">"datos\\diario.txt"</span>  <span class="comment"># Si estás en la carpeta que contiene 'datos'</span>
ruta_relativa2 = <span class="string">".\\config\\configuracion.ini"</span>  <span class="comment"># .\ significa directorio actual</span>
ruta_relativa3 = <span class="string">"..\\proyectos\\app.py"</span>  <span class="comment"># ..\ significa directorio padre</span>

<span class="keyword">print</span>(<span class="string">"Ruta absoluta:"</span>, ruta_absoluta)
<span class="keyword">print</span>(<span class="string">"Ruta relativa:"</span>, ruta_relativa)</code></pre>
                    </div>
                    
                    <h3>2. Apertura y cierre de archivos</h3>
                    <p>La función <code>open()</code> es tu puerta de entrada a los archivos. Es crucial cerrar los archivos después de usarlos para liberar recursos.</p>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Ejemplo: Modos de apertura y with</div>
                            <button class="copy-btn" onclick="copyCode(this)">Copiar código</button>
                        </div>
                        <pre class="code"><code><span class="comment"># Modos de apertura:</span>
<span class="comment"># 'r' - Lectura (por defecto)</span>
<span class="comment"># 'w' - Escritura (sobrescribe si existe, crea si no)</span>
<span class="comment"># 'a' - Anexar (agrega al final)</span>
<span class="comment"># 'x' - Creación exclusiva (falla si ya existe)</span>
<span class="comment"># 'b' - Modo binario</span>
<span class="comment"># 't' - Modo texto (por defecto)</span>
<span class="comment"># '+' - Actualización (lectura y escritura)</span>

<span class="comment"># Forma tradicional (debes cerrar manualmente)</span>
archivo = <span class="function">open</span>(<span class="string">"ejemplo.txt"</span>, <span class="string">"w"</span>)
archivo.write(<span class="string">"Hola, mundo!"</span>)
archivo.close()  <span class="comment"># ¡IMPORTANTE! No olvidar cerrar</span>

<span class="comment"># Forma recomendada: administrador de contexto (with)</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"ejemplo.txt"</span>, <span class="string">"w"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> archivo:
    archivo.write(<span class="string">"Hola, mundo con with!"</span>)
<span class="comment"># El archivo se cierra automáticamente al salir del bloque with</span></code></pre>
                    </div>
                    
                    <h3>3. Lectura de archivos</h3>
                    <p>Existen varias formas de leer archivos, cada una útil para diferentes escenarios.</p>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Ejemplo: Métodos de lectura</div>
                            <button class="copy-btn" onclick="copyCode(this)">Copiar código</button>
                        </div>
                        <pre class="code"><code><span class="comment"># Crear un archivo de ejemplo</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"poema.txt"</span>, <span class="string">"w"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    f.write(<span class="string">"Primera línea del poema\n"</span>)
    f.write(<span class="string">"Segunda línea, con emoción\n"</span>)
    f.write(<span class="string">"Tercera línea, la conclusión"</span>)

<span class="comment"># Método 1: read() - Lee todo el contenido</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"poema.txt"</span>, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    contenido = f.read()
    <span class="keyword">print</span>(<span class="string">"Contenido completo:\n"</span>, contenido)

<span class="comment"># Método 2: readline() - Lee línea por línea</span>
<span class="keyword">print</span>(<span class="string">"\nLínea por línea:"</span>)
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"poema.txt"</span>, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    linea1 = f.readline()
    linea2 = f.readline()
    linea3 = f.readline()
    <span class="keyword">print</span>(<span class="string">"1:"</span>, linea1.strip())  <span class="comment"># strip() elimina saltos de línea</span>
    <span class="keyword">print</span>(<span class="string">"2:"</span>, linea2.strip())
    <span class="keyword">print</span>(<span class="string">"3:"</span>, linea3.strip())

<span class="comment"># Método 3: readlines() - Lee todas las líneas en una lista</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"poema.txt"</span>, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    lineas = f.readlines()
    <span class="keyword">print</span>(<span class="string">"\nLista de líneas:"</span>, lineas)

<span class="comment"># Método 4: Bucle directo (más eficiente para archivos grandes)</span>
<span class="keyword">print</span>(<span class="string">"\nUsando bucle for:"</span>)
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"poema.txt"</span>, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    <span class="keyword">for</span> i, linea <span class="keyword">in</span> <span class="function">enumerate</span>(f, 1):
        <span class="keyword">print</span>(<span class="string">f"Línea {i}: {linea.strip()}"</span>)</code></pre>
                    </div>
                    
                    <div class="highlight">
                        <p><strong>Reflexión:</strong> ¿Cuándo sería mejor usar <code>read()</code> y cuándo sería mejor procesar línea por línea? Piensa en archivos pequeños vs. archivos muy grandes (como logs de servidores o bases de datos).</p>
                    </div>
                    
                    <h3>4. Escritura de archivos</h3>
                    <p>Escribir en archivos nos permite guardar resultados, crear reportes o almacenar datos para uso futuro.</p>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Ejemplo: Métodos de escritura</div>
                            <button class="copy-btn" onclick="copyCode(this)">Copiar código</button>
                        </div>
                        <pre class="code"><code><span class="comment"># Escritura básica con write()</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"datos.txt"</span>, <span class="string">"w"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    f.write(<span class="string">"Este es un archivo de datos.\n"</span>)
    f.write(<span class="string">"Aquí guardaremos información importante.\n"</span>)
    f.write(<span class="string">"Línea final del archivo."</span>)

<span class="comment"># Anexar contenido al final del archivo</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"datos.txt"</span>, <span class="string">"a"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    f.write(<span class="string">"\n\n--- NUEVA ENTRADA ---\n"</span>)
    f.write(<span class="string">"Fecha: 2023-10-15\n"</span>)
    f.write(<span class="string">"Usuario: EstudiantePython\n"</span>)

<span class="comment"># Escritura de una lista con writelines()</span>
lineas_a_escribir = [
    <span class="string">"\n\n--- LISTA DE TAREAS ---\n"</span>,
    <span class="string">"1. Aprender Python\n"</span>,
    <span class="string">"2. Practicar manejo de archivos\n"</span>,
    <span class="string">"3. Crear un proyecto personal\n"</span>
]

<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"datos.txt"</span>, <span class="string">"a"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    f.writelines(lineas_a_escribir)

<span class="comment"># Verificar lo escrito</span>
<span class="keyword">with</span> <span class="function">open</span>(<span class="string">"datos.txt"</span>, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
    <span class="keyword">print</span>(<span class="string">"Contenido final del archivo:\n"</span>)
    <span class="keyword">print</span>(f.read())</code></pre>
                    </div>
                    
                    <h3>5. Manejo de errores</h3>
                    <p>Los errores al trabajar con archivos son comunes. Python nos proporciona excepciones específicas para manejarlos elegante.</p>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Ejemplo: Manejo de excepciones con archivos</div>
                            <button class="copy-btn" onclick="copyCode(this)">Copiar código</button>
                        </div>
                        <pre class="code"><code><span class="keyword">def</span> <span class="function">leer_archivo_seguro</span>(nombre_archivo):
    <span class="keyword">try</span>:
        <span class="keyword">with</span> <span class="function">open</span>(nombre_archivo, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:
            contenido = f.read()
        <span class="keyword">return</span> contenido
    
    <span class="keyword">except</span> FileNotFoundError:
        <span class="keyword">return</span> <span class="string">f"Error: El archivo '{nombre_archivo}' no existe."</span>
    
    <span class="keyword">except</span> PermissionError:
        <span class="keyword">return</span> <span class="string">f"Error: No tienes permiso para leer '{nombre_archivo}'."</span>
    
    <span class="keyword">except</span> IOError <span class="keyword">as</span> e:
        <span class="keyword">return</span> <span class="string">f"Error de E/S: {e}"</span>
    
    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:
        <span class="keyword">return</span> <span class="string">f"Error inesperado: {e}"</span>

<span class="comment"># Probar la función</span>
<span class="keyword">print</span>(leer_archivo_seguro(<span class="string">"archivo_existente.txt"</span>))
<span class="keyword">print</span>(leer_archivo_seguro(<span class="string">"archivo_inexistente.txt"</span>))</code></pre>
                    </div>
                    
                    <div class="example">
                        <div class="example-title">
                            <i class="fas fa-flask"></i>
                            <span>Experimenta:</span>
                        </div>
                        <p>Modifica el código anterior para crear una función que intente escribir en un archivo en una ubicación protegida (como "C:\\Windows\\archivo.txt" en Windows o "/root/archivo.txt" en Linux). Observa qué excepción se produce y cómo manejarla.</p>
                    </div>
                </section>

                <!-- Reto Final -->
                <section id="challenge" class="section">
                    <h2>El Reto Final</h2>
                    
                    <div class="challenge">
                        <h3><i class="fas fa-flag-checkered challenge-icon"></i> Tu Misión: Sistema de Gestión de Contactos</h3>
                        
                        <p><strong>Contexto:</strong> Eres el desarrollador de una pequeña empresa ecuatoriana que necesita digitalizar su libreta de contactos. Tu tarea es crear un programa en Python que gestione contactos almacenándolos en un archivo.</p>
                        
                        <p><strong>Requisitos:</strong></p>
                        <ol style="margin-left: 20px; margin-bottom: 20px;">
                            <li>El programa debe almacenar contactos con: nombre, teléfono, email y ciudad.</li>
                            <li>Debe permitir agregar nuevos contactos (sin borrar los existentes).</li>
                            <li>Debe permitir buscar contactos por nombre o ciudad.</li>
                            <li>Debe mostrar todos los contactos ordenados alfabéticamente.</li>
                            <li>Debe permitir eliminar contactos existentes.</li>
                            <li>Todos los datos deben guardarse en un archivo llamado "contactos.txt".</li>
                            <li>El programa debe ser resistente a errores (archivo no existe, datos corruptos, etc.).</li>
                        </ol>
                        
                        <p><strong>Nivel Básico:</strong> Implementa las funciones de agregar y listar contactos.</p>
                        <p><strong>Nivel Intermedio:</strong> Agrega búsqueda y ordenamiento.</p>
                        <p><strong>Nivel Avanzado:</strong> Implementa todas las funciones con una interfaz de menú amigable.</p>
                        
                        <div class="highlight">
                            <p><strong>Pista:</strong> Considera usar el formato CSV para almacenar los contactos. Cada línea podría ser: <code>nombre,telefono,email,ciudad</code>. El módulo <code>csv</code> de Python te será muy útil.</p>
                        </div>
                        
                        <p><strong>Para pensar:</strong> ¿Cómo diseñarías el programa para que pueda crecer en el futuro? ¿Qué pasaría si la empresa quisiera agregar campos adicionales como "fecha de cumpleaños" o "notas"?</p>
                        
                        <button class="btn btn-accent" onclick="showHint()">
                            <i class="fas fa-lightbulb"></i>
                            <span>Ver una pista de solución</span>
                        </button>
                        
                        <div id="hint" style="display: none; margin-top: 20px; padding: 15px; background-color: rgba(56, 182, 255, 0.1); border-radius: var(--border-radius);">
                            <h4>Estructura sugerida:</h4>
                            <pre style="background-color: #1e1e1e; color: white; padding: 15px; border-radius: 8px; overflow-x: auto;">
def agregar_contacto(nombre, telefono, email, ciudad):
    with open("contactos.txt", "a", encoding="utf-8") as f:
        f.write(f"{nombre},{telefono},{email},{ciudad}\n")

def listar_contactos():
    try:
        with open("contactos.txt", "r", encoding="utf-8") as f:
            contactos = f.readlines()
        
        if not contactos:
            print("No hay contactos guardados.")
            return
        
        contactos_ordenados = sorted(contactos)
        for contacto in contactos_ordenados:
            datos = contacto.strip().split(",")
            print(f"Nombre: {datos[0]}, Tel: {datos[1]}, Email: {datos[2]}, Ciudad: {datos[3]}")
    
    except FileNotFoundError:
        print("El archivo de contactos no existe. Se creará al agregar el primer contacto.")
                            </pre>
                        </div>
                    </div>
                    
                    <h3>Criterios de Éxito</h3>
                    <p>Tu solución será evaluada según:</p>
                    <ul style="margin-left: 20px; margin-bottom: 20px;">
                        <li><strong>Funcionalidad:</strong> ¿Cumple con todos los requisitos?</li>
                        <li><strong>Robustez:</strong> ¿Maneja adecuadamente los errores?</li>
                        <li><strong>Legibilidad:</strong> ¿El código es claro y bien organizado?</li>
                        <li><strong>Eficiencia:</strong> ¿Es eficiente en el manejo de archivos?</li>
                        <li><strong>Creatividad:</strong> ¿Añade características innovadoras?</li>
                    </ul>
                    
                    <p>Recuerda: La programación es un arte y una ciencia. No solo se trata de que funcione, sino de que sea elegante, mantenible y humano.</p>
                </section>

                <!-- Evaluación Lúdica -->
                <section id="quiz" class="section">
                    <h2>Evaluación Lúdica</h2>
                    <p>¡Pon a prueba lo aprendido! Responde las siguientes preguntas sobre manejo de archivos en Python.</p>
                    
                    <div class="quiz-container">
                        <div class="quiz-header">
                            <h3>Test de Conocimientos</h3>
                            <div class="score">Puntuación: <span id="score">0</span>/5</div>
                        </div>
                        
                        <div class="question-container">
                            <div class="question" id="question">Cargando pregunta...</div>
                            <div class="options" id="options">
                                <!-- Las opciones se cargarán dinámicamente -->
                            </div>
                        </div>
                        
                        <div class="feedback" id="feedback">
                            <!-- La retroalimentación aparecerá aquí -->
                        </div>
                        
                        <div class="quiz-controls">
                            <button class="btn btn-secondary" id="prev-btn" disabled>
                                <i class="fas fa-arrow-left"></i>
                                <span>Anterior</span>
                            </button>
                            <button class="btn btn-primary" id="next-btn">
                                <i class="fas fa-arrow-right"></i>
                                <span>Siguiente</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="highlight">
                        <p><strong>Reflexión final:</strong> El manejo de archivos es mucho más que una técnica de programación. Es la puerta a la persistencia de datos, a la creación de aplicaciones reales, a la transformación de información en conocimiento. Cada vez que trabajas con archivos, estás dejando una huella digital, un fragmento de tu pensamiento que perdurará más allá de la ejecución de tu programa.</p>
                    </div>
                </section>
            </main>
        </div>

        <footer>
            <div class="footer-content">
                <p>Taller de Python: Manejo de Archivos | Para estudiantes ecuatorianos de bachillerato</p>
                <p><strong>Diseñado por: Edwin Méndez J.</strong></p>
                <p>Con la filosofía de que la programación no es solo código, es una forma de pensar, crear y transformar el mundo.</p>
            </div>
        </footer>
    </div>

    <script>
        // Navegación entre secciones
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remover clase active de todos los enlaces
                document.querySelectorAll('.nav-link').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Agregar clase active al enlace clickeado
                this.classList.add('active');
                
                // Ocultar todas las secciones
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Mostrar la sección correspondiente
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
            });
        });

        // Función para copiar código
        function copyCode(button) {
            const codeContainer = button.closest('.code-container');
            const codeElement = codeContainer.querySelector('.code');
            const textToCopy = codeElement.textContent;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                const originalText = button.textContent;
                button.textContent = '¡Copiado!';
                button.style.backgroundColor = '#28A745';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.backgroundColor = '';
                }, 2000);
            });
        }

        // Mostrar pista en el reto final
        function showHint() {
            const hint = document.getElementById('hint');
            hint.style.display = 'block';
        }

        // Sistema de evaluación (quiz)
        const questions = [
            {
                question: "¿Cuál es la principal ventaja de usar el administrador de contexto 'with' al trabajar con archivos?",
                options: [
                    "Permite abrir varios archivos simultáneamente",
                    "Cierra automáticamente el archivo al salir del bloque, incluso si ocurre un error",
                    "Aumenta la velocidad de lectura y escritura",
                    "Permite trabajar con archivos binarios de forma más eficiente"
                ],
                correct: 1,
                explanation: "El administrador de contexto 'with' garantiza que el archivo se cierre correctamente al salir del bloque, lo que previene fugas de recursos y errores."
            },
            {
                question: "¿Qué modo de apertura usarías para agregar contenido al final de un archivo existente sin borrar su contenido?",
                options: [
                    "'r' (lectura)",
                    "'w' (escritura)",
                    "'a' (anexar)",
                    "'x' (creación exclusiva)"
                ],
                correct: 2,
                explanation: "El modo 'a' (append/anexar) abre el archivo para escritura, posicionándose al final del archivo, por lo que el nuevo contenido se agregará después del existente."
            },
            {
                question: "Si intentas abrir un archivo que no existe con el modo 'r', ¿qué excepción se producirá?",
                options: [
                    "IOError",
                    "PermissionError",
                    "FileNotFoundError",
                    "FileExistsError"
                ],
                correct: 2,
                explanation: "FileNotFoundError es la excepción específica que Python lanza cuando intentas abrir un archivo inexistente en modo lectura."
            },
            {
                question: "¿Cuál es la diferencia principal entre read() y readlines()?",
                options: [
                    "read() es más rápido que readlines()",
                    "read() devuelve una cadena, readlines() devuelve una lista de cadenas",
                    "readlines() solo funciona con archivos binarios",
                    "read() puede leer archivos más grandes que readlines()"
                ],
                correct: 1,
                explanation: "read() devuelve todo el contenido del archivo como una única cadena, mientras que readlines() devuelve una lista donde cada elemento es una línea del archivo."
            },
            {
                question: "¿Qué hace el método seek(0) en un archivo abierto?",
                options: [
                    "Cierra el archivo",
                    "Borra todo el contenido del archivo",
                    "Mueve el cursor al inicio del archivo",
                    "Aumenta el tamaño del archivo"
                ],
                correct: 2,
                explanation: "seek(0) mueve el cursor (posición actual) al inicio del archivo (posición 0), permitiendo releer el archivo desde el principio."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;

        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const feedbackElement = document.getElementById('feedback');
        const scoreElement = document.getElementById('score');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        function loadQuestion() {
            const question = questions[currentQuestion];
            questionElement.textContent = `Pregunta ${currentQuestion + 1}: ${question.question}`;
            
            optionsElement.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index, optionElement));
                optionsElement.appendChild(optionElement);
            });
            
            feedbackElement.className = 'feedback';
            feedbackElement.textContent = '';
            feedbackElement.style.display = 'none';
            
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.textContent = currentQuestion === questions.length - 1 ? 'Ver Resultado' : 'Siguiente';
            
            selectedOption = null;
        }

        function selectOption(index, optionElement) {
            // Resetear todas las opciones
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Marcar la opción seleccionada
            optionElement.classList.add('selected');
            selectedOption = index;
            
            const question = questions[currentQuestion];
            
            // Mostrar retroalimentación inmediata
            if (index === question.correct) {
                optionElement.classList.add('correct');
                feedbackElement.textContent = `¡Correcto! ${question.explanation}`;
                feedbackElement.className = 'feedback correct';
                
                // Incrementar puntuación solo si no se había respondido antes
                if (!question.answered) {
                    score++;
                    scoreElement.textContent = score;
                    question.answered = true;
                }
            } else {
                optionElement.classList.add('incorrect');
                // También mostrar cuál era la correcta
                document.querySelectorAll('.option')[question.correct].classList.add('correct');
                feedbackElement.textContent = `Incorrecto. ${question.explanation}`;
                feedbackElement.className = 'feedback incorrect';
            }
            
            feedbackElement.style.display = 'block';
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                // Mostrar resultado final
                questionElement.textContent = `¡Test Completado!`;
                optionsElement.innerHTML = `
                    <div style="text-align: center; padding: 30px;">
                        <h3 style="color: var(--primary); margin-bottom: 20px;">Tu puntuación final: ${score}/${questions.length}</h3>
                        <p style="margin-bottom: 20px;">${score >= 4 ? '¡Excelente! Dominas los conceptos básicos del manejo de archivos.' : score >= 3 ? 'Buen trabajo, pero hay algunos conceptos que debes repasar.' : 'Es recomendable revisar los conceptos del taller nuevamente.'}</p>
                        <button class="btn btn-accent" onclick="restartQuiz()">
                            <i class="fas fa-redo"></i>
                            <span>Reiniciar Test</span>
                        </button>
                    </div>
                `;
                feedbackElement.style.display = 'none';
                prevBtn.disabled = true;
                nextBtn.disabled = true;
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            scoreElement.textContent = score;
            questions.forEach(q => q.answered = false);
            nextBtn.disabled = false;
            loadQuestion();
        }

        // Inicializar quiz
        questions.forEach(q => q.answered = false);
        loadQuestion();

        // Event listeners para botones del quiz
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
    </script>
</body>
</html>